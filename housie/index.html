<html>
    
    <head>
        <title>
            Housie Hungama
        </title>   
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"> 
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta property="og:type" content="article" />
        <meta property="og:title" content="Housie Hungama" /> 
        <meta property="og:description" content="Housie Hungama" />
    </head>
    <body>  
        <nav class="navbar navbar-default navbar-fixed-top navbar-inverse">
          <div class="container">
            <div>
                <h1 style="color:#fff">Housie Hungama</h1>
            </div>
          </div>
        </nav>

        <div class="container" > 
           <div class="bigNumberDisplay well well-lg">
                <span id="numCounter" style="color:#194BB3">0</span>
                <span class="mirage" id="mirageElement">19</span>
                <div class="bingoNumberDesc" id="bingoWords"></div>
            </div>

            <div class="row" >
	    <div class="col-md-2 well well-lg text-left">
			<ul role="listbox" tabindex="0" font-size:40px>
			    <li>Jaldi Five   <input tabindex="-1" id="check1" class="o-checkbox" type="checkbox"></li>
                            <li>Four Corners <input tabindex="-1" id="check1" class="o-checkbox" type="checkbox"></li>
                            <li>First Row    <input tabindex="-1" id="check1" class="o-checkbox" type="checkbox"></li>
                            <li>Second Row   <input tabindex="-1" id="check1" class="o-checkbox" type="checkbox"></li>
                            <li>Third Row    <input tabindex="-1" id="check1" class="o-checkbox" type="checkbox"></li>
                            <li>Housie       <input tabindex="-1" id="check1" class="o-checkbox" type="checkbox"></li>
			</ul>
			Previous Number
                    <div id="prevNum" >  0   </div>
                <input id="btnGenerate" type="button" value="Generate Number"/>
	    </div>
	    <div class="col-md-9"> 
                    <table>
                        <tr> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        <tr> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        <tr> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        <tr> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        <tr> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        <tr> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        <tr> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        <tr> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        <tr> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        <tr> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr> 
                    </table>
	    </div>
            <br/> 
	</div>
        <style type="text/css">
        body { padding-top: 70px; }
            .divRules{
                float:left;
                width:20%;
                text-align:left;
                font-size:20px;
            }
            #prevNum{
                font-size:80px;
                color:#f00;
            }
            .bingoNumberDesc{
                font-size:0.3em;
                vertical-align: text-top;
            }
           div {
                text-align: center;
            } 
            .bigNumberDisplay {
                font-size: 7em;
            } 
            .numbersTable {
                font-size: 2em;
                width:100%
            } 
            table {
                margin-left: auto;
                margin-right: auto;
            } 
            table, tr, td {
                border-collapse: collapse;
                border: solid 1px #999;
            } 
            td {
                min-width: 100px;
                color: #fff;
                font-size: 2em;
            } 
            td.selected {
                color: #0D8930;
            } 
        </style> 
        <script
          src="https://code.jquery.com/jquery-3.2.1.min.js"
          integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
          crossorigin="anonymous"></script>
        <script type="text/javascript">
	  var bingoNumberWords = [""];
            (function($){
                $.fn.extend({
                    numAnim: function(options) {
                        if ( ! this.length)
                            return false;

                        this.defaults = {
                            endAt: 2560,
                            numClass: 'autogen-num',
                            duration: 1,   // seconds
                            interval: 90  // ms
                        };
                        var settings = $.extend({}, this.defaults, options);

                        var $num = $('<span/>', {
                            'class': settings.numClass 
                        });

                        return this.each(function() {
                            var $this = $(this);

                            // Wrap each number in a tag.
                            var frag = document.createDocumentFragment(),
                                numLen = settings.endAt.toString().length;
                            for (x = 0; x < numLen; x++) {
                                var rand_num = Math.floor( Math.random() * 10 );
                                frag.appendChild( $num.clone().text(rand_num)[0] )
                            }
                            $this.empty().append(frag);

                            var get_next_num = function(num) {
                                ++num;
                                if (num > 9) return 0;
                                return num;
                            };

                            // Iterate each number.
                            $this.find('.' + settings.numClass).each(function() {
                                var $num = $(this),
                                    num = parseInt( $num.text() );

                                var interval = setInterval( function() {
                                    num = get_next_num(num);
                                    $num.text(num);
                                }, settings.interval);

                                setTimeout( function() {
                                    clearInterval(interval);
                                }, settings.duration * 1000 - settings.interval);
                            });
                            
                            setTimeout( function() {
                                $this.text( settings.endAt.toString() );
                                $("#mirageElement").css("display","none");
                                $('#numCounter').css("display","");  

                            }, settings.duration * 1000);
                        });
                    }
                });
            })(jQuery);

                $(function() { 
                var bingo = {
                    selectedNumbers: [],
                    generateRandom: function() {
                        var min = 1;
                        var max = 89;
                        var random = Math.floor(Math.random() * (max - min + 1)) + min;
                        return random;
                    },
                    generateNextRandom: function() {
                        if (bingo.selectedNumbers.length > 89) {
                            alert("All numbers Exhausted");
                            return 0;
                        }
                        var random = bingo.generateRandom();
                        while ($.inArray(random, bingo.selectedNumbers) > -1) {
                            random = bingo.generateRandom();
                        }
                        bingo.selectedNumbers.push(random);
                        return random;
                    }
                };
                $("#mirageElement").css("display","none");
                $('td').each(function() {
                    var concatClass = this.cellIndex + "" + this.parentNode.rowIndex;
                    var numberString = parseInt(concatClass, 10).toString();
                    $(this).addClass("cell" + numberString).text(numberString);
                });
                var random = 0;
                var animDuration = 2;
                $('#btnGenerate').click(function() {    
                    $('#prevNum').text($('#numCounter').text());
                    random = bingo.generateNextRandom().toString();
                    $("#numCounter").css("display","none");
                    $("#mirageElement").css("display","");
                    $('#numCounter').text(random);
                    //$('td.cell' + random).addClass('selected');
                    $("#mirageElement").numAnim({
                        endAt: 90,
                        duration: animDuration
                    });
                    setTimeout(function(){ 
                        if(bingoNumberWords[random-1]){
                            $("#bingoWords").text(bingoNumberWords[random-1]);
                        }else{
                            $("#bingoWords").text("");
                        }
                        $('td.cell' + random).addClass('selected');
                        $("#numCounter").animate({zoom: '110%'}, "slow");
                        $("#numCounter").animate({zoom: '100%'}, "slow");

                        }, animDuration*1000);

                });
                window.onbeforeunload = function(e) {
                    e = e || window.event;
                    var returnString = 'Are you sure?';
                    if (e) {
                        e.returnValue = returnString;
                    }
                    return returnString;
                };
            });
        </script> 
    </body>
</html>
